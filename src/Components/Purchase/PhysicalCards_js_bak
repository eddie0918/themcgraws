import React, { Component } from 'react';
import {
    Container, Row, Col, Form, FormGroup, Button
} from 'reactstrap';
import { get } from '../../Code/IApi';
import { Link } from 'react-router-dom';
import PhysicalTab from '../../Components/Purchase/PhysicalComponents/PhysicalTab';

export default class About extends Component {
    constructor(props) {
        super(props);
        this.state = { cardTypesList: [] };
    }
    async componentDidMount() {
        const response = await get('general/physicalCardTypes');
        this.setState({ cardTypesList: response.List });
    }

    render() {

        return <section>
	    <Container>
<Form>
		{this.state.cardTypesList.map((cardType, index) =>
		<Row>
		 <Col xs="12" md="4">
		  <div key={index}><strong>{cardType.CardTypeName}</strong>
		        <br />
		        <img src={cardType.ImageUrl} class="physical-card-images" alt={cardType.CardTypeName}/>
		        <br />
			<div class="physical-card-description" dangerouslySetInnerHTML={{ __html: cardType.Description }} ></div>
		  </div>
		 </Col>
		 <Col xs="6" md="4">
                            <FormGroup>
		            {cardType.Denominations.map((denom, dIndex) =>
			     <div>
                               <div class="custom-radio custom-control">
                                <input id={[cardType.CardTypeName, denom.Denomination].join(' ')} name={cardType.CardTypeName} class="custom-control-input" type="radio" />
		                <label key={dIndex} class="custom-control-label" for={[cardType.CardTypeName, denom.Denomination].join(' ')}>
		                    ${parseInt(denom.Denomination, 10)}.00
		                    <br />
		                    {denom.Stock < 200 &&
		                        <div>
		                            Only {denom.Stock} cards left
		                        </div>}
		                </label>
			       </div>
			     </div>
		            )}
			    </FormGroup>
		 </Col>
		 <Col xs="6" md="4">
		            <FormGroup className="text-center justify-content-center">
		             <label for="physicalQuantity">Quantity</label><br />
		             <input type="number" name="number" id="physicalQuantity" min="1" max="9999" maxlength="4" placeholder=" " />
		            </FormGroup>
			    <FormGroup check row className="text-center justify-content-center w-100 mx-auto">
			     <Col sm="12">
			     <Button color="primary">Add to Cart</Button>
			     </Col>
			    </FormGroup>
		 </Col>
		</Row>
		)}
</Form>
	    </Container>
	    <Container>
	     <Row>
	      <Col xs="12" className="justify-content-center text-center mt-4 mb-2">
	       <h1>Physical Cards</h1>
	      </Col>
              <Col xs="12" md={{ size: 8, offset: 2 }} className="justify-content-center mb-2 text-center">
	       <p>You can have cards shipped to you for in-person giving or shipped directly to the recipient. Want to order in bulk? Use our <Link to='/Purchase/CustomPhysicalCards'>Custom Physical Cards page</Link>.</p>
	      </Col>
	     </Row>
	     <Row className="ml-3 mr-0">
	      <Col xs="12" className="pr-0">
	       <PhysicalTab />
	      </Col>
	     </Row>
	    </Container>

        </section>;
    }
  
}

